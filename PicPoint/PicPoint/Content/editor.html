<!DOCTYPE html>
<html lang="en" ng-app="initExample">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Animated Trip Editor</title>
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/tipped/tooltipster.css" rel="stylesheet">
    <link href="css/editor.css" rel="stylesheet">
</head>
<body>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.16/angular.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/tipped/jquery.tooltipster.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
    <script src="js/createDaysTemp.js"></script>
    <script src="js/editor.js"></script>

    <div class="container-fluid" ng-controller="ExampleController">
        <div id="locationData" class="locationData">
            <div style="border:0px;position:absolute;right:10px;top:5px">
                <span class="glyphicon glyphicon-remove-circle" style="font-size:20px;cursor:pointer" onclick="closeLocation(true, true)"></span>
            </div>
            Location Name: <input id="locationName" type="text" class="form-control" placeholder="Text input">
            <br />
            <span id="picsNum"></span> Pictures taken here:<br />
            <div id="locationPicsDiv" class="scrollImg">
                <!-- all images here -->
            </div>
            <br />
            Set picture caption: <input id="picCaption" type="text"  class="form-control" maxlength="36">
            <div style="height:10px"></div>

            <div style="width:350px">
                <img id="selectedImg" src="" class="selectedImg" />
                <div class="caption">{{ vvv }}</div>
            </div>

            <br />
            <div id="saveButtons" style="bottom:15px;left:90px;position:absolute">
                <button type="button" class="btn btn-primary" onclick="saveLocationChanges()">Save</button>
                <button type="button" class="btn btn-primary" onclick="saveLocationChangesAndClose()">Save & Close</button>
                <button type="button" class="btn btn-primary" onclick="closeLocation(true, true)">Close</button>
            </div>

        </div>
        <div id="storyData" class="storyData">
            <div style="border:0px;position:absolute;right:10px;top:5px">
                <span class="glyphicon glyphicon-remove-circle" style="font-size:20px;cursor:pointer" onclick="closeStory()"></span>
            </div>
            Story to display at the end of the location slide: <textarea class="form-control" placeholder="Text input" style="height:150px"></textarea>
            <br />
            <div id="saveButtons" style="bottom:15px;left:35%;position:absolute">
                <button type="button" class="btn btn-primary" onclick="saveStoryChanges()">Save</button>
                <button type="button" class="btn btn-primary" onclick="closeStory()">Close</button>
            </div>
        </div>
        <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <div class="container-fluid">
                <div class="navbar-header">
                    <div class="navbar-brand" style="color:white">
                        <span class="glyphicon glyphicon-record"></span>
                        Animated Trip
                    </div>
                </div>
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="#"><span class="glyphicon glyphicon-home"></span> Home</a></li>
                        <li><a href="#"><span class="glyphicon glyphicon-user"></span> Moshe Kerbel</a></li>
                        <li><a href="#"><span class="glyphicon glyphicon-info-sign"></span> Help</a></li>
                    </ul>
                    <form class="form-inline" role="form" style="margin-top:10px">
                        <div class="form-group">
                            <input type="text" ng-model="yourName" class="form-control" id="exampleInputEmail2" placeholder="Search..." style="width:400px;height:30px">
                        </div>
                        <div class="form-group">
                            <button type="button" class="btn btn-default" style="height:30px">
                                <span class="glyphicon glyphicon-search"></span>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="row" style="top:50px;position:relative">
            <div class="col-md-2" style="background-color:#eee;border-right:1px solid black;height:600px">
                <div ng-repeat="day in days" ng-init="dayIndex = $index">
                    <div class="row">
                        <br />
                        <div id="dayWrapper{{ dayIndex }}" class="col-xs-12 col-md-12;">

                            <div id="day{{ dayIndex }}Closed" title="{{ dayIndex }}" class="day" onclick="openDay(this.title)">
                                <span style="font-size: 20px;">Day{{ day.day }}</span><br />
                                {{ day.locations.length }} Locations<br />
                                {{ day.picsNum }} Pictures
                            </div>

                            <div id="day{{ dayIndex }}Opened" title="{{ dayIndex }}" class="daySelected" onclick="closeDay(this.title)">
                                <span style="font-weight:bold;">Day{{ day.day }}</span>
                            </div>

                            <div id="locationsWrapper" style="display:none">
                                <div ng-repeat="location in day.locations" ng-init="locationIndex = $index">
                                    <div class="line-break"></div>
                                    <div id="location{{ locationIndex }}" 
                                         title="{{ location }}" 
                                         class="location" 
                                         onclick="onLocationClick(this.title)">
                                        {{ location.name }} ({{ location.pics.length }} Pictures)
                                    </div>     

                                    <div ng-repeat="singlePic in location.pics" ng-init="picIndex = $index" style="display:none">
                                        <img id="location{{ locationIndex }}img{{ picIndex }}"
                                             onmouseover="onImageMouseOver(this)"
                                             onmouseout="onImageMouseOut(this)"
                                             onclick="onImageClick(this)"
                                             src="resources/Images/{{ singlePic.name }}"
                                             title="{{ singlePic.caption }}"
                                             class="smallPic" />                                        
                                    </div> 
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="mapWrapper" class="col-md-10" style="background-color:#eee;height:600px;padding:0px">
                <div id="map-canvas" style="width:100%; height:100%"></div>
                <div class="navbar navbar-default col-md-12" role="navigation" style="background-color:#101010;min-height:60px;position:absolute;left:0px;bottom:0px;margin-bottom:0px">
                    <div style="height:7px">
                    </div>
                    <div>
                        <div class="collapse navbar-collapse">
                            <ul class="nav navbar-nav">
                                <li id="storyNoLocationSelected">
                                    <button type="button" class="btn btn-default btn-lg">
                                        <span class="glyphicon glyphicon-list-alt"></span> Story
                                    </button>
                                </li>
                                <li id="storyLocationSelected" style="display:none">
                                    <button onclick="onStoryClick()" type="button" class="btn btn-default btn-lg">
                                        <span class="glyphicon glyphicon-list-alt"></span> Story
                                    </button>
                                </li>
                                <li>&nbsp;&nbsp;</li>
                                <li>
                                    <button type="button" class="btn btn-default btn-lg">
                                        <span class="glyphicon glyphicon-map-marker"></span> Recommendation
                                    </button>
                                </li>
                                <li>&nbsp;&nbsp;</li>
                                <li id="soundsTooltip">
                                    <button type="button" class="btn btn-default btn-lg">
                                        <span class="glyphicon glyphicon-music"></span> Music
                                    </button>
                                    <div id="toolTipWrapper1" style="display: none">
                                        <div id="backgroundMusicTooltip">
                                            <span>
                                                Background music for the video
                                            </span>
                                            <div style="height:10px"></div>
                                            <form class="form-inline" role="form">
                                                <select class="form-control" onchange="changePreviewSound()">
                                                    <option>None</option>
                                                    <option value="sounds/1.mp3">Sunny Beach</option>
                                                    <option value="sounds/2.mp3">Blue Atlantic</option>
                                                </select>
                                                &nbsp;&nbsp;
                                                <button type="button" class="btn btn-default btn-sm" onclick="saveDirections()">Save</button>
                                            </form>
                                            <div style="height:10px"></div>
                                            <div>
                                                Preview:
                                                <div style="height:10px"></div>
                                                <div id="moses">
                                                    <audio controls style="width:210px">
                                                        <source id="soundController" src="sounds/12.mp3" type="audio/mpeg">
                                                    </audio>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li>&nbsp;&nbsp;</li>
                                <li>
                                    <button type="button" class="btn btn-default btn-lg" id="my-tooltip">
                                        <span class="glyphicon glyphicon-circle-arrow-right"></span> Next Location
                                    </button>
                                    <div id="toolTipWrapperNextLocation" style="display: none">
                                        <div id="nextLocationToolTip">
                                            <span>
                                                Please choose the way
                                                <br />
                                                you got to the next location:
                                            </span>
                                            <div style="height:10px">
                                            </div>
                                            <form class="form-inline" role="form">
                                                <select onchange="saveDirections()" class="form-control">
                                                    <option>Walking</option>
                                                    <option>Public transport‏</option>
                                                    <option>Car</option>
                                                </select>
                                                &nbsp;&nbsp;
                                                <button type="button" class="btn btn-default btn-sm">Save</button>
                                            </form>
                                        </div>
                                    </div>
                                </li>
                                <li>&nbsp;&nbsp;</li>
                            </ul>
                        </div><!--/.nav-collapse -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="tempPics" style="display:none">
    </div>
</body>
</html>